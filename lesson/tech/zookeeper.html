<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Apache ZooKeeper &#8212; Big Data Classes</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.3.6/cerulean/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'Draft',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          Classes</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../i524/index.html">i524</a></li>
                <li><a href="../../changelog.html">Changes</a></li>
                <li><a href="https://piazza.com/class/ix39m27czn5uw">Piazza</a></li>
                <li><a href="../index.html">Lessons</a></li>
                <li><a href="https://github.com/cloudmesh/classes">Fork</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../i524/preface/index.html">Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/about.html">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/instructors.html">Instructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/instructors.html#teaching-assistants">Teaching Assistants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i524/index.html">I524 Big Data and Open Source Software Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#meeting-times">Meeting Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#online-meetings">Online Meetings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#who-can-take-the-class">Who can take the class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#homework">Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#open-source-publication-of-homework">Open Source Publication of Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#piazza">Piazza</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#tips-on-how-to-achieve-your-best">Tips on how to achieve your best</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#submissions">Submissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#selected-project-ideas">Selected Project Ideas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#software-project">Software Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#report-format">Report Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#github-repositories">Github repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#code-repositories-deliverables">Code Repositories Deliverables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#learning-outcomes">Learning Outcomes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#academic-integrity-policy">Academic Integrity Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#links">Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#course-numbers">Course Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#refernces">Refernces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i524/calendar.html">I524 Calendar</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/calendar.html#comments">Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/calendar.html#official-university-calendar">Official University calendar</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i524/lectures.html">I524 Lectures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#lectures">Lectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#lectures-theory-track">Lectures - Theory Track</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#lectures-collaboration-track">Lectures - Collaboration Track</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#unreleased-lectures">Unreleased Lectures</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../i524/technologies.html">Technologies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#workflow-orchestration">Workflow-Orchestration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#application-and-analytics">Application and Analytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#application-hosting-frameworks">Application Hosting Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#high-level-programming">High level Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#streams">Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#basic-programming-model-and-runtime-spmd-mapreduce">Basic Programming model and runtime, SPMD, MapReduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#inter-process-communication-collectives">Inter process communication Collectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#in-memory-databases-caches">In-memory databases/caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#object-relational-mapping">Object-relational mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#extraction-tools">Extraction Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#sql-newsql">SQL(NewSQL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#nosql">NoSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#file-management">File management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#data-transport">Data Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#cluster-resource-management">Cluster Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#file-systems">File systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#devops">DevOps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#iaas-management-from-hpc-to-hypervisors">IaaS Management from HPC to hypervisors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#cross-cutting-functions">Cross-Cutting Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#new-technologies-to-be-integrated">New Technologies to be integrated</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#excersise">Excersise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#refernces">Refernces</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Lessons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cloud/index.html">Cloud (under construction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/index.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/index.html">Writing Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/index.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../org/index.html">Oragnization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/index.html">Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/index.html">Software Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iaas/index.html">IaaS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/ansible.html">Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/chef.html">Chef</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/comparison.html">Compaprison of Configuration management software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/composite_cluster.html">Composite Clusters (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/deployment.html">Dynamic deployment of arbitrary X software on VC (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/hadoop.html">Hadoop Virtual CLuster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/juju.html">Ubuntu Juju</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/mongodb_cluster.html">MongoDB Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openmpi_cluster.html">OpenMPI Virtual Cluster (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openstack_heat.html">OpenStack Heat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/other.html">Other (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview.html">DevOps (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview_vc.html">Overview Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/puppet.html">Puppet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack-ex1-output.html">Full Message of <code class="docutils literal"><span class="pre">salt-call</span></code> Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack.html">SaltStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/index.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-prerequisites-for-this-class">What are the prerequisites for this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-is-this-class-not-hosted-on-edx">Why is this class not hosted on EdX?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-are-you-not-using-canvas-for-communicating-with-students">Why are you not using CANVAS for communicating with students?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-are-you-using-github-for-submitting-projects-and-papers">Why are you using github for submitting projects and papers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-full-time-student-at-iupui-can-i-take-the-online-version">I am full time student at IUPUI. Can I take the online version?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-a-residential-student-at-iu-can-i-take-the-online-version-only">I am a residential student at IU. Can I take the online version only?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#the-class-is-full-what-do-i-do">The class is full what do I do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-buy-a-textbook">Do I need to buy a textbook?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-is-there-no-textbook">Why is there no textbook?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-a-computer-to-participate-in-this-class">Do I need a computer to participate in this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#representative-bibliography">Representative Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#where-is-the-official-iu-calendar-for-the-fall">Where is the official IU calendar for the Fall?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-write-a-research-article-on-computer-science">How to write a research article on computer science?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#which-bibliography-manager-is-required-for-the-class">Which bibliography manager is required for the class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#can-i-use-endnote-or-other-bibliography-managers">Can I use endnote or other bibliography managers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#plagiarism-test-and-resources-related-to-that">Plagiarism test and resources related to that</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-many-hours-will-this-course-take-to-work-on-every-week">How many hours will this course take to work on every week?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#is-all-classes-material-final">Is all classes material final?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-changes-to-the-web-page">What are the changes to the web page?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-lectures-should-i-learn-when">What lectures should I learn when?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-you-doing-the-papers">I524: Why are you doing the papers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-there-no-homework-to-test-me-on-skills-such-as-ansible-or-python">I524: Why are there no homework to test me on skills such as ansible or python?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-not-use-chef-or-another-devops-framework">I524: Why not use chef or another DevOps framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-lost">I am lost?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-do-not-like-technology-topic-project-etc">I do not like Technology/Topic/Project/etc?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-not-able-to-attend-the-online-hours">I am not able to attend the online hours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-attend-the-online-sessions">Do I need to attend the online sessions?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-leaning-outcomes">What are the leaning outcomes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#there-are-so-many-messages-on-piazza-i-can-not-keep-up">There are so many messages on Piazza I can not keep up.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-find-the-hosting-web-confusing">I find the hosting Web confusing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-i-do-not-know-python-what-do-i-do">I524: I do not know python. What do I do?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">Todos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../todo.html#general">General</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#version-unreleased">%%version%% (unreleased)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id1">3.0.8 (2017-01-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id2">3.0.7 (2017-01-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id6">3.0.6 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id9">3.0.5 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id14">3.0.4 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id15">3.0.3 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id18">3.0.2 (2017-01-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id19">3.0.1 (2017-01-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id20">3.0 (2017-01-06)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Apache ZooKeeper</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#key-points">Key points</a></li>
<li><a class="reference internal" href="#zab">Zab</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation">Implementation</a><ul>
<li><a class="reference internal" href="#znodes">Znodes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#apache-qurator">Apache Qurator</a></li>
<li><a class="reference internal" href="#zookeeper-installation">ZooKeeper Installation</a><ul>
<li><a class="reference internal" href="#required-packages">Required Packages</a></li>
<li><a class="reference internal" href="#zookeeper-server-package">ZooKeeper Server Package</a></li>
<li><a class="reference internal" href="#configuration-zoo-cfg">Configuration <code class="docutils literal"><span class="pre">zoo.cfg</span></code></a></li>
<li><a class="reference internal" href="#myid-in-var-lib-zookeeper-for-multi-server">myid in <code class="docutils literal"><span class="pre">var/lib/zookeeper</span></code> (For multi-server)</a></li>
<li><a class="reference internal" href="#start-zookeeper-server">Start ZooKeeper Server</a></li>
<li><a class="reference internal" href="#zookeeper-client">ZooKeeper Client</a></li>
</ul>
</li>
<li><a class="reference internal" href="#citation">Citation</a></li>
<li><a class="reference internal" href="#reading-list">Reading List</a></li>
<li><a class="reference internal" href="#additional-readling-list">Additional Readling List</a></li>
<li><a class="reference internal" href="#acknowledgement">Acknowledgement</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../i524/preface/index.html">Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/about.html">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/instructors.html">Instructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/preface/instructors.html#teaching-assistants">Teaching Assistants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i524/index.html">I524 Big Data and Open Source Software Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#meeting-times">Meeting Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#online-meetings">Online Meetings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#who-can-take-the-class">Who can take the class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#homework">Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#open-source-publication-of-homework">Open Source Publication of Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#piazza">Piazza</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#tips-on-how-to-achieve-your-best">Tips on how to achieve your best</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#submissions">Submissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#selected-project-ideas">Selected Project Ideas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#software-project">Software Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#report-format">Report Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#github-repositories">Github repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#code-repositories-deliverables">Code Repositories Deliverables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#learning-outcomes">Learning Outcomes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#academic-integrity-policy">Academic Integrity Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#links">Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#course-numbers">Course Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/index.html#refernces">Refernces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i524/calendar.html">I524 Calendar</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/calendar.html#comments">Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/calendar.html#official-university-calendar">Official University calendar</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i524/lectures.html">I524 Lectures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#lectures">Lectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#lectures-theory-track">Lectures - Theory Track</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#lectures-collaboration-track">Lectures - Collaboration Track</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/lectures.html#unreleased-lectures">Unreleased Lectures</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../i524/technologies.html">Technologies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#workflow-orchestration">Workflow-Orchestration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#application-and-analytics">Application and Analytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#application-hosting-frameworks">Application Hosting Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#high-level-programming">High level Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#streams">Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#basic-programming-model-and-runtime-spmd-mapreduce">Basic Programming model and runtime, SPMD, MapReduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#inter-process-communication-collectives">Inter process communication Collectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#in-memory-databases-caches">In-memory databases/caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#object-relational-mapping">Object-relational mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#extraction-tools">Extraction Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#sql-newsql">SQL(NewSQL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#nosql">NoSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#file-management">File management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#data-transport">Data Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#cluster-resource-management">Cluster Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#file-systems">File systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#devops">DevOps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#iaas-management-from-hpc-to-hypervisors">IaaS Management from HPC to hypervisors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#cross-cutting-functions">Cross-Cutting Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#new-technologies-to-be-integrated">New Technologies to be integrated</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#excersise">Excersise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/technologies.html#refernces">Refernces</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Lessons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cloud/index.html">Cloud (under construction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/index.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/index.html">Writing Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/index.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../org/index.html">Oragnization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/index.html">Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/index.html">Software Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iaas/index.html">IaaS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/ansible.html">Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/chef.html">Chef</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/comparison.html">Compaprison of Configuration management software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/composite_cluster.html">Composite Clusters (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/deployment.html">Dynamic deployment of arbitrary X software on VC (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/hadoop.html">Hadoop Virtual CLuster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/juju.html">Ubuntu Juju</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/mongodb_cluster.html">MongoDB Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openmpi_cluster.html">OpenMPI Virtual Cluster (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openstack_heat.html">OpenStack Heat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/other.html">Other (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview.html">DevOps (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview_vc.html">Overview Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/puppet.html">Puppet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack-ex1-output.html">Full Message of <code class="docutils literal"><span class="pre">salt-call</span></code> Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack.html">SaltStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/index.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-prerequisites-for-this-class">What are the prerequisites for this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-is-this-class-not-hosted-on-edx">Why is this class not hosted on EdX?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-are-you-not-using-canvas-for-communicating-with-students">Why are you not using CANVAS for communicating with students?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-are-you-using-github-for-submitting-projects-and-papers">Why are you using github for submitting projects and papers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-full-time-student-at-iupui-can-i-take-the-online-version">I am full time student at IUPUI. Can I take the online version?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-a-residential-student-at-iu-can-i-take-the-online-version-only">I am a residential student at IU. Can I take the online version only?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#the-class-is-full-what-do-i-do">The class is full what do I do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-buy-a-textbook">Do I need to buy a textbook?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#why-is-there-no-textbook">Why is there no textbook?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-a-computer-to-participate-in-this-class">Do I need a computer to participate in this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#representative-bibliography">Representative Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#where-is-the-official-iu-calendar-for-the-fall">Where is the official IU calendar for the Fall?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-write-a-research-article-on-computer-science">How to write a research article on computer science?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#which-bibliography-manager-is-required-for-the-class">Which bibliography manager is required for the class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#can-i-use-endnote-or-other-bibliography-managers">Can I use endnote or other bibliography managers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#plagiarism-test-and-resources-related-to-that">Plagiarism test and resources related to that</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-many-hours-will-this-course-take-to-work-on-every-week">How many hours will this course take to work on every week?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#is-all-classes-material-final">Is all classes material final?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-changes-to-the-web-page">What are the changes to the web page?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-lectures-should-i-learn-when">What lectures should I learn when?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-you-doing-the-papers">I524: Why are you doing the papers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-there-no-homework-to-test-me-on-skills-such-as-ansible-or-python">I524: Why are there no homework to test me on skills such as ansible or python?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-not-use-chef-or-another-devops-framework">I524: Why not use chef or another DevOps framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-lost">I am lost?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-do-not-like-technology-topic-project-etc">I do not like Technology/Topic/Project/etc?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-not-able-to-attend-the-online-hours">I am not able to attend the online hours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-attend-the-online-sessions">Do I need to attend the online sessions?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-leaning-outcomes">What are the leaning outcomes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#there-are-so-many-messages-on-piazza-i-can-not-keep-up">There are so many messages on Piazza I can not keep up.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-find-the-hosting-web-confusing">I find the hosting Web confusing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-i-do-not-know-python-what-do-i-do">I524: I do not know python. What do I do?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">Todos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../todo.html#general">General</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#version-unreleased">%%version%% (unreleased)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id1">3.0.8 (2017-01-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id2">3.0.7 (2017-01-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id6">3.0.6 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id9">3.0.5 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id14">3.0.4 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id15">3.0.3 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id18">3.0.2 (2017-01-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id19">3.0.1 (2017-01-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id20">3.0 (2017-01-06)</a></li>
</ul>
</li>
</ul>
</ul>
</li><ul>
<li><a class="reference internal" href="#">Apache ZooKeeper</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#key-points">Key points</a></li>
<li><a class="reference internal" href="#zab">Zab</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation">Implementation</a><ul>
<li><a class="reference internal" href="#znodes">Znodes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#apache-qurator">Apache Qurator</a></li>
<li><a class="reference internal" href="#zookeeper-installation">ZooKeeper Installation</a><ul>
<li><a class="reference internal" href="#required-packages">Required Packages</a></li>
<li><a class="reference internal" href="#zookeeper-server-package">ZooKeeper Server Package</a></li>
<li><a class="reference internal" href="#configuration-zoo-cfg">Configuration <code class="docutils literal"><span class="pre">zoo.cfg</span></code></a></li>
<li><a class="reference internal" href="#myid-in-var-lib-zookeeper-for-multi-server">myid in <code class="docutils literal"><span class="pre">var/lib/zookeeper</span></code> (For multi-server)</a></li>
<li><a class="reference internal" href="#start-zookeeper-server">Start ZooKeeper Server</a></li>
<li><a class="reference internal" href="#zookeeper-client">ZooKeeper Client</a></li>
</ul>
</li>
<li><a class="reference internal" href="#citation">Citation</a></li>
<li><a class="reference internal" href="#reading-list">Reading List</a></li>
<li><a class="reference internal" href="#additional-readling-list">Additional Readling List</a></li>
<li><a class="reference internal" href="#acknowledgement">Acknowledgement</a></li>
</ul>
</li>
</ul>

<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="apache-zookeeper">
<span id="ref-class-lesson-zookeeper"></span><h1>Apache ZooKeeper<a class="headerlink" href="#apache-zookeeper" title="Permalink to this headline">¶</a></h1>
<p>ZooKeeper is a open source project to provide a configuration and
synchronization service for cluster computing. With ZooKeeper, Hadoop YARN
ResourceManager (RM) is supported with high availability. HBase, Storm and
other software use ZooKeeper for coordinating the cluster.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>ZooKeeper is a distributed, open-source coordination service for distributed
applications. It exposes a simple set of primitives that distributed
applications can build upon to implement higher level services for
synchronization, configuration maintenance, and groups and naming. It is
designed to be easy to program to, and uses a data model styled after the
familiar directory tree structure of file systems. It runs in Java and has
bindings for both Java and C. (as quoted in ZooKeeper overview:
<a class="reference external" href="http://zookeeper.apache.org/doc/trunk/zookeeperOver.html">http://zookeeper.apache.org/doc/trunk/zookeeperOver.html</a>)</p>
<div class="figure" id="id8">
<img alt="../../_images/zkservice.jpg" src="../../_images/zkservice.jpg" />
<p class="caption"><span class="caption-text">Figure 1. ZooKeeper Service</span></p>
</div>
<div class="section" id="key-points">
<h3>Key points<a class="headerlink" href="#key-points" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Data replication</li>
<li>Ensemble is a group of ZooKeeper servers to use replication to achieve high
availability and performance</li>
<li>Odd number of servers due to simple majority voting</li>
<li>Single (Standalone) installation is not for a production model</li>
<li>Leader election</li>
<li>Configuration, Name Service, Group Membership</li>
<li>Wait-free for fault tolerance, performance (compared to Chubby)</li>
<li>Started by Yahoo</li>
</ul>
<p>Chubby is a locking service with strong synchronization guarantees.</p>
</div>
<div class="section" id="zab">
<h3>Zab<a class="headerlink" href="#zab" title="Permalink to this headline">¶</a></h3>
<p>Zab is a leader-based atomic broadcast protocol used in ZooKeeper to guarantee
that update operations satisfy linearizability.</p>
</div>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>ZooKeeper synchronizes every changes to the tree of znodes across the ZooKeeper
servers, ensemble. This way prevents inconsistency of the data by sharing the
information. If one of the servers fails, the rest of them will replicate state
and trees.</p>
<ul class="simple">
<li>Leader election</li>
<li>Atomic broadcast</li>
</ul>
<div class="section" id="znodes">
<h3>Znodes<a class="headerlink" href="#znodes" title="Permalink to this headline">¶</a></h3>
<p>Znodes is a hierarchical name space of data registers and each znode has a path
with a delimeter &#8220;/&#8221; like a directory structure. There are parent and child
znodes.</p>
</div>
</div>
<div class="section" id="apache-qurator">
<h2>Apache Qurator<a class="headerlink" href="#apache-qurator" title="Permalink to this headline">¶</a></h2>
<p>Apache Qurator is a set of Java libraries for automatic ZooKeeper connection
management with retries and easy development of new ZooKeeper recipes.</p>
<p>Github: <a class="reference external" href="https://github.com/apache/curator">https://github.com/apache/curator</a></p>
</div>
<div class="section" id="zookeeper-installation">
<h2>ZooKeeper Installation<a class="headerlink" href="#zookeeper-installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="required-packages">
<h3>Required Packages<a class="headerlink" href="#required-packages" title="Permalink to this headline">¶</a></h3>
<p>ZooKeeper runs in Java, release 1.6 or greater (JDK 6 or greater).</p>
<p>Java JDK</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">openjdk</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">jdk</span>
</pre></div>
</div>
<p>You can find other installation packages here:
<a class="reference external" href="http://java.sun.com/javase/downloads/index.jsp">http://java.sun.com/javase/downloads/index.jsp</a></p>
</div>
<div class="section" id="zookeeper-server-package">
<h3>ZooKeeper Server Package<a class="headerlink" href="#zookeeper-server-package" title="Permalink to this headline">¶</a></h3>
<p>Download latest here: <a class="reference external" href="http://www.apache.org/dyn/closer.cgi/zookeeper/">http://www.apache.org/dyn/closer.cgi/zookeeper/</a></p>
<p>Download 3.4.6</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">supergsego</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">apache</span><span class="o">/</span><span class="n">zookeeper</span><span class="o">/</span><span class="n">stable</span><span class="o">/</span><span class="n">zookeeper</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mf">6.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">tar</span> <span class="n">xzf</span> <span class="n">zookeeper</span><span class="o">*.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">zookeeper</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">6</span> <span class="n">zookeeper</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration-zoo-cfg">
<h3>Configuration <code class="docutils literal"><span class="pre">zoo.cfg</span></code><a class="headerlink" href="#configuration-zoo-cfg" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">zookeeper</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">zoo_sample</span><span class="o">.</span><span class="n">cfg</span> <span class="n">zookeeper</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">zoo</span><span class="o">.</span><span class="n">cfg</span>
<span class="n">nano</span> <span class="n">zookeeper</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">zoo</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
<p>Confirm the settings and update with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tickTime</span><span class="o">=</span><span class="mi">2000</span>
<span class="n">dataDir</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">zookeeper</span>
<span class="n">clientPort</span><span class="o">=</span><span class="mi">2181</span>
</pre></div>
</div>
<ul class="simple">
<li>tickTime: the basic time unit in milliseconds used by ZooKeeper. It is used
to do heartbeats and the minimum session timeout will be twice the tickTime.</li>
<li>dataDir: the location to store the in-memory database snapshots and, unless
specified otherwise, the transaction log of updates to the database.</li>
<li>clientPort: the port to listen for client connections</li>
</ul>
<p>If you have multiple severs, <code class="docutils literal"><span class="pre">zoo.cfg</span></code> has more values, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">server</span><span class="o">.</span><span class="mi">1</span><span class="o">=</span><span class="mf">10.0</span><span class="o">.</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2888</span><span class="p">:</span><span class="mi">3888</span>
<span class="n">server</span><span class="o">.</span><span class="mi">2</span><span class="o">=</span><span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="p">:</span><span class="mi">2888</span><span class="p">:</span><span class="mi">3888</span>
<span class="n">server</span><span class="o">.</span><span class="mi">3</span><span class="o">=</span><span class="mf">10.0</span><span class="o">.</span><span class="mf">0.4</span><span class="p">:</span><span class="mi">2888</span><span class="p">:</span><span class="mi">3888</span>
</pre></div>
</div>
<p>It is <code class="docutils literal"><span class="pre">server.id=host:port:port</span></code></p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Ensemble setup (multi-server)
<a class="reference external" href="http://zookeeper.apache.org/doc/trunk/zookeeperAdmin.html#sc_zkMulitServerSetup">http://zookeeper.apache.org/doc/trunk/zookeeperAdmin.html#sc_zkMulitServerSetup</a></p>
</div>
</div>
<div class="section" id="myid-in-var-lib-zookeeper-for-multi-server">
<h3>myid in <code class="docutils literal"><span class="pre">var/lib/zookeeper</span></code> (For multi-server)<a class="headerlink" href="#myid-in-var-lib-zookeeper-for-multi-server" title="Permalink to this headline">¶</a></h3>
<p>The myid file which stays in <code class="docutils literal"><span class="pre">dataDir</span></code> contains a machine&#8217;s id. If you have 3
servers, first server has 1 in the myid, and second one has 2.  The id must be
unique within the ensemble and should have a value between 1 and 255.</p>
<p>node 1</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">r</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">zookeeper</span>
<span class="n">echo</span> <span class="s2">&quot;1&quot;</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">zookeeper</span><span class="o">/</span><span class="n">myid</span>
</pre></div>
</div>
<p>node 2</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">r</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">zookeeper</span>
<span class="n">echo</span> <span class="s2">&quot;2&quot;</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">zookeeper</span><span class="o">/</span><span class="n">myid</span>
</pre></div>
</div>
</div>
<div class="section" id="start-zookeeper-server">
<h3>Start ZooKeeper Server<a class="headerlink" href="#start-zookeeper-server" title="Permalink to this headline">¶</a></h3>
<p>Now that you created the configuration file, you can start ZooKeeper:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">zookeeper</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">zkServer</span><span class="o">.</span><span class="n">sh</span> <span class="n">start</span>
</pre></div>
</div>
</div>
<div class="section" id="zookeeper-client">
<h3>ZooKeeper Client<a class="headerlink" href="#zookeeper-client" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">zookeeper</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">zkCli</span><span class="o">.</span><span class="n">sh</span>
<span class="o">...</span>
<span class="p">[</span><span class="n">zk</span><span class="p">:</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">2181</span><span class="p">(</span><span class="n">CONNECTED</span><span class="p">)</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>If you get access to other nodes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">zookeeper</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">zkCli</span><span class="o">.</span><span class="n">sh</span> <span class="o">-</span><span class="n">server</span> <span class="p">[</span><span class="n">node</span> <span class="n">ip</span> <span class="n">address</span><span class="p">]:</span><span class="mi">2181</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>Hunt, Patrick, et al. &#8220;ZooKeeper: Wait-free Coordination for Internet-scale
Systems.&#8221; USENIX Annual Technical Conference. Vol. 8. 2010. <a class="reference external" href="https://www.usenix.org/event/usenix10/tech/full_papers/Hunt.pdf">[pdf]</a></p>
</div>
<div class="section" id="reading-list">
<h2>Reading List<a class="headerlink" href="#reading-list" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Reed, Benjamin, and Flavio P. Junqueira. &#8220;A simple totally ordered broadcast
protocol.&#8221; proceedings of the 2nd Workshop on Large-Scale Distributed Systems
and Middleware. ACM, 2008. <a class="reference external" href="http://diyhpl.us/~bryan/papers2/distributed/distributed-systems/zab.totally-ordered-broadcast-protocol.2008.pdf">[pdf]</a></li>
<li>Junqueira, Flavio Paiva, Benjamin C. Reed, and Marco Serafini. &#8220;Zab:
High-performance broadcast for primary-backup systems.&#8221; Dependable Systems &amp;
Networks (DSN), 2011 IEEE/IFIP 41st International Conference on. IEEE, 2011.
<a class="reference external" href="http://web.stanford.edu/class/cs347/reading/zab.pdf">[pdf]</a></li>
<li>Design Paper for Hadoop and Zookeeper <a class="reference external" href="https://issues.apache.org/jira/secure/attachment/12486023/MapReduce_NextGen_Architecture.pdf">[pdf]</a></li>
<li>Chapter 14: ZooKeeper in Hadoop: The Definitive Guide By Tom White</li>
</ul>
</div>
<div class="section" id="additional-readling-list">
<h2>Additional Readling List<a class="headerlink" href="#additional-readling-list" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Kirsch, Jonathan, and Yair Amir. &#8220;Paxos for system builders.&#8221; Dept. of CS,
Johns Hopkins University, Tech. Rep (2008). <a class="reference external" href="http://www.cnds.jhu.edu/pub/papers/psb_ladis_08.pdf">[pdf]</a></li>
<li>Baker, Jason, et al. &#8220;Megastore: Providing Scalable, Highly Available Storage
for Interactive Services.&#8221; CIDR. Vol. 11. 2011.  <a class="reference external" href="http://pdos.csail.mit.edu/6.824-2012/papers/jbaker-megastore.pdf">[pdf]</a></li>
<li>Kadambi, Sudarshan, et al. &#8220;Where in the world is my data.&#8221; Proceedings
International Conference on Very Large Data Bases (VLDB). 2011. <a class="reference external" href="http://www.vldb.org/pvldb/vol4/p1040-kadambi.pdf">[pdf]</a></li>
<li>Burrows, Mike. &#8220;The Chubby lock service for loosely-coupled distributed
systems.&#8221; Proceedings of the 7th symposium on Operating systems design and
implementation. USENIX Association, 2006.  <a class="reference external" href="http://static.usenix.org/events/osdi06/tech/full_papers/burrows/burrows_html/">[html]</a></li>
<li>Taylor, Ronald C. &#8220;An overview of the Hadoop/MapReduce/HBase framework and
its current applications in bioinformatics.&#8221; BMC bioinformatics 11.Suppl 12
(2010): S1. <a class="reference external" href="http://www.biomedcentral.com/1471-2105/11/S12/S1">[html]</a></li>
</ul>
</div>
<div class="section" id="acknowledgement">
<h2>Acknowledgement<a class="headerlink" href="#acknowledgement" title="Permalink to this headline">¶</a></h2>
<p>This lesson is adopted from Apache ZooKeeper Documentation:
<a class="reference external" href="http://zookeeper.apache.org/doc/trunk/zookeeperOver.html">http://zookeeper.apache.org/doc/trunk/zookeeperOver.html</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Gregor von Laszewski.<br/>
    </p>
  </div>
</footer>
  </body>
</html>