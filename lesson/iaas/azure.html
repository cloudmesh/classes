<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Microsoft Azure Virtual Machine &#8212; Big Data Classes</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'Draft',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="IU SOIC machines" href="iu.html" />
    <link rel="prev" title="OpenStack on FutureSystems" href="openstack.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          classes</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../i523/2017/index.html">i523</a></li>
                <li><a href="../index.html">Lessons</a></li>
                <li><a href="../../changelog.html">Changes</a></li>
                <li><a href="https://github.com/cloudmesh/classes">Fork</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../i523/2017/index.html">I523 Big Data Applications and Analytics (2017)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2017/index.html#content">Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2017/index.html#additional-content">Additional Content</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i523/2016/index.html">I523 Big Data Applications and Analytics (2016)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/course.html">Syllabus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/refcards.html">Refcards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/assignments/assignments.html">Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/gitlab.html">Gitlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/python_big_data.html">Python for Big Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/python_lesson1.html">Python Fingerprint Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/refcards.html">Refcards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/linux.html">4.1. Linux Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/latex.html">2.2. LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/ubuntu.html">Ubuntu Development Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/ssh.html">Using SSH Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/n-resources.html">Homework References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/contributing.html">1.5. Contributing</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../i524/2017/index.html">I524 Big Data and Open Source Software Projects (2017)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/preface/index.html">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/overview.html">i524 Big Data and Open Source Software Projects (2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/calendar.html">I524 Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/lectures.html">I524 Lectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/assignments.html">I524 Assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/hids-techs.html">HID Assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/technologies.html">Technologies</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../icloud/2017/index.html">B534 Cloud Computing (2018)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../icloud/2017/index.html#content">Content</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-prerequisites-for-this-class">What are the prerequisites for this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-full-time-student-at-iupui-can-i-take-the-online-version">I am full time student at IUPUI. Can I take the online version?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-a-residential-student-at-iu-can-i-take-the-online-version-only">I am a residential student at IU. Can I take the online version only?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#the-class-is-full-what-do-i-do">The class is full what do I do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-buy-a-textbook">Do I need to buy a textbook?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-a-computer-to-participate-in-this-class">Do I need a computer to participate in this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#where-is-the-official-iu-calendar-for-the-fall">Where is the official IU calendar for the Fall?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-do-i-ask-a-question">How do I ask a question?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-write-a-research-article-on-computer-science">How to write a research article on computer science?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#which-bibliography-manager-is-required-for-the-class">Which bibliography manager is required for the class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#can-i-use-endnote-or-other-bibliography-managers">Can I use endnote or other bibliography managers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#plagiarism-test-and-resources-related-to-that">Plagiarism test and resources related to that</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-many-hours-will-this-course-take-to-work-on-every-week">How many hours will this course take to work on every week?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#is-all-classes-material-final">Is all classes material final?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-changes-to-the-web-page">What are the changes to the web page?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-lectures-should-i-learn-when">What lectures should I learn when?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-you-doing-the-papers">I524: Why are you doing the papers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-there-no-homework-to-test-me-on-skills-such-as-ansible-or-python">I524: Why are there no homework to test me on skills such as ansible or python?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-not-use-chef-or-another-devops-framework">I524: Why not use chef or another DevOps framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-lost">I am lost?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-do-not-like-technology-topic-project-etc">I do not like Technology/Topic/Project/etc?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-not-able-to-attend-the-online-hours">I am not able to attend the online hours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-attend-the-online-sessions">Do I need to attend the online sessions?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-leaning-outcomes">What are the leaning outcomes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#there-are-so-many-messages-on-piazza-i-can-not-keep-up">There are so many messages on Piazza I can not keep up.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-do-not-know-python-what-do-i-do">I do not know python. What do I do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#tips-techlist-1-homework">Tips: TechList.1 homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#citations">Citations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#spelling">Spelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#github">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#rubric">Rubric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#timeliness">Timeliness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#outdated-tech-ology">Outdated Tech ology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#techlist-1-and-paper-1-pagecount">Techlist 1 and Paper 1 : Pagecount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#tips-to-install-virtualbox">Tips to Install Virtualbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-generate-the-ssh-key-on-ubuntu-vm">Do I generate the SSH key on Ubuntu VM ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#ways-to-run-ubuntu-on-windows-10">Ways to run Ubuntu on Windows 10</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#don-t-use-anaconda">Don’t use Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#using-ssh-key-for-git-push">Using SSH Key for Git Push</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#can-i-write-the-papers-on-osx">Can I write the papers on OSX?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-is-the-nature-of-team-collaboration-on-papers">What is the nature of team collaboration on papers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#id1">What is the nature of team collaboration on papers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-due-dates-for-assignments">What are the due dates for assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-good-places-to-find-refernce-entries">What are good places to find refernce entries?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-install-matplotlib">How to install Matplotlib?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-test-if-your-os-can-install-cloudmesh-client">How to test if your OS can install cloudmesh_client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#os-x">OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#linux">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#tips-to-write-a-good-paper">Tips to write a Good Paper</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Lessons</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cloud/index.html">Cloud (under construction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/index.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/index.html">Writing Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/index.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../org/index.html">Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/index.html">Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/index.html">Software Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/draft.html">Software Projects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">IaaS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docker/index.html">Docker Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/ansible/index.html">Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/chef.html">Chef</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/comparison.html">Compaprison of Configuration management software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/composite_cluster.html">Composite Clusters (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/deployment.html">Dynamic deployment of arbitrary X software on VC (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/hadoop.html">Hadoop Virtual Cluster Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/juju.html">Ubuntu Juju</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/mongodb_cluster.html">MongoDB Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openmpi_cluster.html">OpenMPI Virtual Cluster (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openstack_heat.html">OpenStack Heat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/other.html">Other (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview.html">DevOps (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview_vc.html">Overview Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/puppet.html">Puppet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack-ex1-output.html">Full Message of <code class="docutils literal"><span class="pre">salt-call</span></code> Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack.html">SaltStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/index.html">Notebooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">Todos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../todo.html#general">General</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#version-unreleased">%%version%% (unreleased)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id1">3.2.0 (2017-08-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id5">3.1.1 (2017-02-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id10">3.1.0 (2017-02-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id15">3.0.9 (2017-01-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id20">3.0.8 (2017-01-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id24">3.0.7 (2017-01-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id29">3.0.6 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id32">3.0.5 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id37">3.0.4 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id38">3.0.3 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id41">3.0.2 (2017-01-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id42">3.0.1 (2017-01-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id43">3.0 (2017-01-06)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Microsoft Azure Virtual Machine</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#prerequisite">Prerequisite</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#azure-management-portal">Azure Management Portal</a></li>
<li><a class="reference internal" href="#preparing-vm-instance">Preparing VM Instance</a></li>
<li><a class="reference internal" href="#launch-an-instance-and-ip-address">Launch an Instance and IP Address</a></li>
<li><a class="reference internal" href="#ssh-into-vm-instance">SSH into VM Instance</a></li>
<li><a class="reference internal" href="#switch-password-authentication-to-ssh-key-authentication">Switch Password Authentication to SSH Key Authentication</a></li>
<li><a class="reference internal" href="#install-and-run-flask-python-web-framework">Install and Run Flask Python Web Framework</a></li>
<li><a class="reference internal" href="#make-a-public-web-service">Make a Public Web Service</a></li>
<li><a class="reference internal" href="#check-hello-world-page-on-the-web">Check <code class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></code> Page on the Web</a></li>
<li><a class="reference internal" href="#terminate-your-cloud-resources-important">Terminate your Cloud Resources <em>IMPORTANT</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercise1">Exercise1</a></li>
<li><a class="reference internal" href="#exercise2">Exercise2</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../i523/2017/index.html">I523 Big Data Applications and Analytics (2017)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2017/index.html#content">Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2017/index.html#additional-content">Additional Content</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../i523/2016/index.html">I523 Big Data Applications and Analytics (2016)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/course.html">Syllabus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/refcards.html">Refcards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/assignments/assignments.html">Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/gitlab.html">Gitlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/python_big_data.html">Python for Big Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/python_lesson1.html">Python Fingerprint Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/refcards.html">Refcards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/linux.html">4.1. Linux Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/latex.html">2.2. LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/ubuntu.html">Ubuntu Development Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/ssh.html">Using SSH Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i523/2016/n-resources.html">Homework References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/contributing.html">1.5. Contributing</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../i524/2017/index.html">I524 Big Data and Open Source Software Projects (2017)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/preface/index.html">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/overview.html">i524 Big Data and Open Source Software Projects (2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/calendar.html">I524 Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/lectures.html">I524 Lectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/assignments.html">I524 Assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/hids-techs.html">HID Assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i524/2017/technologies.html">Technologies</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../icloud/2017/index.html">B534 Cloud Computing (2018)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../icloud/2017/index.html#content">Content</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-prerequisites-for-this-class">What are the prerequisites for this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-full-time-student-at-iupui-can-i-take-the-online-version">I am full time student at IUPUI. Can I take the online version?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-a-residential-student-at-iu-can-i-take-the-online-version-only">I am a residential student at IU. Can I take the online version only?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#the-class-is-full-what-do-i-do">The class is full what do I do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-buy-a-textbook">Do I need to buy a textbook?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-a-computer-to-participate-in-this-class">Do I need a computer to participate in this class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#where-is-the-official-iu-calendar-for-the-fall">Where is the official IU calendar for the Fall?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-do-i-ask-a-question">How do I ask a question?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-write-a-research-article-on-computer-science">How to write a research article on computer science?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#which-bibliography-manager-is-required-for-the-class">Which bibliography manager is required for the class?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#can-i-use-endnote-or-other-bibliography-managers">Can I use endnote or other bibliography managers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#plagiarism-test-and-resources-related-to-that">Plagiarism test and resources related to that</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-many-hours-will-this-course-take-to-work-on-every-week">How many hours will this course take to work on every week?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#is-all-classes-material-final">Is all classes material final?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-changes-to-the-web-page">What are the changes to the web page?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-lectures-should-i-learn-when">What lectures should I learn when?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-you-doing-the-papers">I524: Why are you doing the papers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-are-there-no-homework-to-test-me-on-skills-such-as-ansible-or-python">I524: Why are there no homework to test me on skills such as ansible or python?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i524-why-not-use-chef-or-another-devops-framework">I524: Why not use chef or another DevOps framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-lost">I am lost?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-do-not-like-technology-topic-project-etc">I do not like Technology/Topic/Project/etc?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-am-not-able-to-attend-the-online-hours">I am not able to attend the online hours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-need-to-attend-the-online-sessions">Do I need to attend the online sessions?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-leaning-outcomes">What are the leaning outcomes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#there-are-so-many-messages-on-piazza-i-can-not-keep-up">There are so many messages on Piazza I can not keep up.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#i-do-not-know-python-what-do-i-do">I do not know python. What do I do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#tips-techlist-1-homework">Tips: TechList.1 homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#citations">Citations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#spelling">Spelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#github">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#rubric">Rubric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#timeliness">Timeliness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#outdated-tech-ology">Outdated Tech ology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#techlist-1-and-paper-1-pagecount">Techlist 1 and Paper 1 : Pagecount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#tips-to-install-virtualbox">Tips to Install Virtualbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#do-i-generate-the-ssh-key-on-ubuntu-vm">Do I generate the SSH key on Ubuntu VM ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#ways-to-run-ubuntu-on-windows-10">Ways to run Ubuntu on Windows 10</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#don-t-use-anaconda">Don’t use Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#using-ssh-key-for-git-push">Using SSH Key for Git Push</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#can-i-write-the-papers-on-osx">Can I write the papers on OSX?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-is-the-nature-of-team-collaboration-on-papers">What is the nature of team collaboration on papers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#id1">What is the nature of team collaboration on papers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-the-due-dates-for-assignments">What are the due dates for assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#what-are-good-places-to-find-refernce-entries">What are good places to find refernce entries?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-install-matplotlib">How to install Matplotlib?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#how-to-test-if-your-os-can-install-cloudmesh-client">How to test if your OS can install cloudmesh_client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#os-x">OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#linux">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html#tips-to-write-a-good-paper">Tips to write a Good Paper</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Lessons</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cloud/index.html">Cloud (under construction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib/index.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/index.html">Writing Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/index.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../org/index.html">Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prg/index.html">Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/index.html">Software Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/draft.html">Software Projects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">IaaS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docker/index.html">Docker Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/ansible/index.html">Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/chef.html">Chef</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/comparison.html">Compaprison of Configuration management software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/composite_cluster.html">Composite Clusters (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/deployment.html">Dynamic deployment of arbitrary X software on VC (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/hadoop.html">Hadoop Virtual Cluster Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/juju.html">Ubuntu Juju</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/mongodb_cluster.html">MongoDB Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openmpi_cluster.html">OpenMPI Virtual Cluster (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/openstack_heat.html">OpenStack Heat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/other.html">Other (Under Preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview.html">DevOps (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/overview_vc.html">Overview Virtual Cluster (under preparation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/puppet.html">Puppet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack-ex1-output.html">Full Message of <code class="docutils literal"><span class="pre">salt-call</span></code> Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/saltstack.html">SaltStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/index.html">Notebooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">Todos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../todo.html#general">General</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#version-unreleased">%%version%% (unreleased)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id1">3.2.0 (2017-08-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id5">3.1.1 (2017-02-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id10">3.1.0 (2017-02-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id15">3.0.9 (2017-01-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id20">3.0.8 (2017-01-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id24">3.0.7 (2017-01-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id29">3.0.6 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id32">3.0.5 (2017-01-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id37">3.0.4 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id38">3.0.3 (2017-01-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id41">3.0.2 (2017-01-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id42">3.0.1 (2017-01-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id43">3.0 (2017-01-06)</a></li>
</ul>
</li>
</ul>
</ul>
</li><ul>
<li><a class="reference internal" href="#">Microsoft Azure Virtual Machine</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#prerequisite">Prerequisite</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#azure-management-portal">Azure Management Portal</a></li>
<li><a class="reference internal" href="#preparing-vm-instance">Preparing VM Instance</a></li>
<li><a class="reference internal" href="#launch-an-instance-and-ip-address">Launch an Instance and IP Address</a></li>
<li><a class="reference internal" href="#ssh-into-vm-instance">SSH into VM Instance</a></li>
<li><a class="reference internal" href="#switch-password-authentication-to-ssh-key-authentication">Switch Password Authentication to SSH Key Authentication</a></li>
<li><a class="reference internal" href="#install-and-run-flask-python-web-framework">Install and Run Flask Python Web Framework</a></li>
<li><a class="reference internal" href="#make-a-public-web-service">Make a Public Web Service</a></li>
<li><a class="reference internal" href="#check-hello-world-page-on-the-web">Check <code class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></code> Page on the Web</a></li>
<li><a class="reference internal" href="#terminate-your-cloud-resources-important">Terminate your Cloud Resources <em>IMPORTANT</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercise1">Exercise1</a></li>
<li><a class="reference internal" href="#exercise2">Exercise2</a></li>
</ul>
</li>
</ul>
<p></p>
<hr>
<small>
<b>Web Links</b>
<ul>
    <li><a href="https://cloudmesh.github.io/classes/i523/2017">i523</a> </li>  
    <li><a href="https://cloudmesh.github.io/classes/i524">i524</a> </li>  

  </ul>
</small>

<p></p>
<hr>
<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="microsoft-azure-virtual-machine">
<h1>Microsoft Azure Virtual Machine<a class="headerlink" href="#microsoft-azure-virtual-machine" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This lesson will introduce you to a very important topic to Microsoft Azure
cloud services. Azure Virtual Machine offers IaaS with Linux operating
systems. The use of key pairs or creating virtual instances is slightly
different compared to other clouds e.g. Amazon EC2 or OpenStack Nova.  In this
lesson, we focus on a simple tutorial on running a Python Flask Web Framework
on Azure Virtual Machine. We expect that readers gain basic knowledge of using
Azure cloud services and have some experience of building services on the
cloud.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Duration: 50 minutes</p>
</div>
</div>
<div class="section" id="prerequisite">
<h2>Prerequisite<a class="headerlink" href="#prerequisite" title="Permalink to this headline">¶</a></h2>
<p>In order to conduct this lesson you should have:</p>
<ul class="simple">
<li>Azure Account</li>
<li>Subscription for billing and payment</li>
<li>SSH Client tool (e.g. putty, cygwin or terminal)</li>
<li>openssl is not required (we replaced it with one-time password login and ssh
key pair access)</li>
</ul>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>We will create a VM instance on Azure cloud, and start a Flask Web Framework on
the Ubuntu 14.04 machine image. Our conditions are:</p>
<ul class="simple">
<li>Ubuntu 14.04 LTS Server 64 bit (VM Image)</li>
<li>A1 Size (1 vcpu + 1.75 gb memory)</li>
<li>HTTP, HTTPS (80, 443) port opening using security groups</li>
<li>Password authentication for the first login</li>
<li>SSH key pair authentication after password authentication is disabled</li>
<li>Use of package manager (i.e. apt-get) with switching to admin privileges</li>
<li>Use of Python packages</li>
<li>Editors e.g. vi, nano, emacs</li>
<li><dl class="first docutils">
<dt>Use Azure Management Portal (Web interface)</dt>
<dd><ul class="first last">
<li>We might have other lessons for using an azure command line tool.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Microsoft Azure provides web management tool, Azure Management Portal to
control Azure cloud services. We will use this web interface to create, list or
delete a VM instance.</p>
<div class="section" id="azure-management-portal">
<h3>Azure Management Portal<a class="headerlink" href="#azure-management-portal" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Sign in Azure Management Portal
<a class="reference external" href="http://manage.windowsazure.com">http://manage.windowsazure.com</a></li>
<li>Sign up, if you don’t have an account</li>
<li><dl class="first docutils">
<dt>Register a new subscription</dt>
<dd><ul class="first last">
<li>1-month Free trial is available</li>
<li>Pay-as-you-go is available</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>go to Azure Management Portal</dt>
<dd><ul class="first last">
<li>Find the Virtual Machines page. We create a VM instance in the page.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="preparing-vm-instance">
<h3>Preparing VM Instance<a class="headerlink" href="#preparing-vm-instance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="first docutils">
<dt>Select a VM base image from Gallery</dt>
<dd><ul class="first last">
<li>Gallery is a repository for VM images</li>
<li>Choose <code class="docutils literal"><span class="pre">Ubuntu</span></code> tab.</li>
<li>There are a few VMs available. Select Ubuntu 14.04 LTS.</li>
<li>Community VMs are also available.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Provide a name for your VM instance</dt>
<dd><ul class="first last">
<li>Your VM instance needs a name. This name is also used for dns name.
For example, if you created a VM instance with <code class="docutils literal"><span class="pre">tutorial-azure</span></code>,
you may have dns name, <code class="docutils literal"><span class="pre">tutorial-azure.cloudapp.net</span></code>.</li>
<li>Azure provides a unique dns address using the name in this format <code class="docutils literal"><span class="pre">[unique</span>
<span class="pre">vm</span> <span class="pre">name].cloudapp.net</span></code>.  Unque name means that there is no duplication
across entire Azure cloud services.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Choose a size of your VM instance</dt>
<dd><ul class="first last">
<li>select A1 (1core, 1.75 memory) or another preferred size of VM instance</li>
<li>OpenStack Flavor and Amazon Instance types have a similar format for the size
of VM instances.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Choose a region</dt>
<dd><ul class="first last">
<li>It is a physical location of your VM instance.</li>
<li>Geological different data centers provide better network access if you’re
close to them. Choose a location based on the location for your service.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Add a rule</dt>
<dd><ul class="first last">
<li>SSH (22) port is default</li>
<li>HTTP (80) and HTTPs (443)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Choose <code class="docutils literal"><span class="pre">provide</span> <span class="pre">password</span></code> and disable <code class="docutils literal"><span class="pre">ssh</span> <span class="pre">key</span> <span class="pre">pair</span> <span class="pre">authentication</span></code></dt>
<dd><ul class="first last">
<li>We use <code class="docutils literal"><span class="pre">azureuser</span></code> as a user name.</li>
<li>We provide a password instead of key authentication file e.g. pem.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Click ‘Complete’</dt>
<dd><ul class="first last">
<li>Confirm your VM image, size, and rules.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="launch-an-instance-and-ip-address">
<h3>Launch an Instance and IP Address<a class="headerlink" href="#launch-an-instance-and-ip-address" title="Permalink to this headline">¶</a></h3>
<p>Once you successfully launched your instance, it will be available in a few
moments.</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Find an IP Adddress or hostname</dt>
<dd><ul class="first last">
<li>We need destination address to ssh into the server. You can find IP address
or hostname on the Instances page.</li>
<li>Typically you have a dns name like <code class="docutils literal"><span class="pre">[your</span> <span class="pre">vm</span> <span class="pre">name].cloudapps.net</span></code>.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="ssh-into-vm-instance">
<h3>SSH into VM Instance<a class="headerlink" href="#ssh-into-vm-instance" title="Permalink to this headline">¶</a></h3>
<p>Use your ssh client tool to login to the virtual server.</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">azureuser</span></code> as a user name</dt>
<dd><ul class="first last">
<li>We specified this name as login name when we deploy a VM instance.
Once we logged into the VM instance, we can switch to other users e.g.
<code class="docutils literal"><span class="pre">root</span></code> or create a new user.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Password Authentication</dt>
<dd><ul class="first last">
<li>We login to the VM instance using the password that we provided in the
process of vm creation.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="switch-password-authentication-to-ssh-key-authentication">
<h3>Switch Password Authentication to SSH Key Authentication<a class="headerlink" href="#switch-password-authentication-to-ssh-key-authentication" title="Permalink to this headline">¶</a></h3>
<p>Since we used password authentication, we need to switch it to SSH key pair
authentication.  This requires a few steps with <code class="docutils literal"><span class="pre">root</span></code>.</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Create a new SSH key pair</dt>
<dd><ul class="first last">
<li>If you use Windows OS, try <code class="docutils literal"><span class="pre">puttygen.exe</span></code></li>
<li>Store your private key in a safe place.</li>
<li>Copy your public key string. We need to provide this to SSH on the VM instance.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Move to $HOME/.ssh directory</dt>
<dd><ul class="first last">
<li>There is an <code class="docutils literal"><span class="pre">authorized_keys</span></code> file which holds a list of public key strings.
If you register your public key in this file, you will be able to login to
this machine using a pair, your private key.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Run <code class="docutils literal"><span class="pre">echo</span> <span class="pre">[your</span> <span class="pre">public</span> <span class="pre">key</span> <span class="pre">string]</span> <span class="pre">&gt;&gt;</span> <span class="pre">$HOME/.ssh/authorized_keys</span></code></dt>
<dd><ul class="first last">
<li>This way, you register your public key to your virtual server.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Open <code class="docutils literal"><span class="pre">/etc/ssh/sshd_config</span></code> with your editor e.g. nano, emacs, or vi.</dt>
<dd><ul class="first last">
<li>e.g. <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">vi</span> <span class="pre">/etc/ssh/sshd_config</span></code></li>
</ul>
</dd>
</dl>
</li>
<li>Change <code class="docutils literal"><span class="pre">PasswordAuthentication</span> <span class="pre">yes</span></code> to <code class="docutils literal"><span class="pre">PasswordAuthentication</span> <span class="pre">no</span></code>
and save the file.</li>
<li><dl class="first docutils">
<dt>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">ssh</span> <span class="pre">restart</span></code></dt>
<dd><ul class="first last">
<li>This command restarts a SSH server on your virtual server.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Your password login is disabled.</dt>
<dd><ul class="first last">
<li>After the command above, you won’t allow to use password to login.</li>
<li>SSH key login is only allowed.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="install-and-run-flask-python-web-framework">
<h3>Install and Run Flask Python Web Framework<a class="headerlink" href="#install-and-run-flask-python-web-framework" title="Permalink to this headline">¶</a></h3>
<p>It’s time to install and run Flask Web Framework. It is a minimal software to
run a web server using Python. We will try to use a sample code <code class="docutils literal"><span class="pre">hello.py</span></code>
from the Flask official site.</p>
<p>We assume that you know how to use some basic Linux commands, editors, and
Python. We will use the following commands 1) sudo, 2) su, 3) apt-get, and 4)
service, 5) python to install and run Flask.</p>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span></code></dt>
<dd><ul class="first last simple">
<li>This command updates a list of Linux package repositories.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">python-pip</span></code></dt>
<dd><ul class="first last simple">
<li>We install Python package manager <code class="docutils literal"><span class="pre">pip</span></code>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">virtualenv</span></code></dt>
<dd><ul class="first last simple">
<li>We install Python virtualenv software <code class="docutils literal"><span class="pre">virtualenv</span></code>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Create a new virtualenv</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">virtualenv</span> <span class="pre">$HOME/FLASK</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Enable <code class="docutils literal"><span class="pre">FLASK</span></code> environment for Python</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">source</span> <span class="pre">$HOME/FLASK/bin/activate</span></code></li>
<li>If you see <strong>(FLASK)</strong> label in front of your prompt, you are now in the
<code class="docutils literal"><span class="pre">FLASK</span></code> environment.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Write a python script in <code class="docutils literal"><span class="pre">hello.py</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>Test your python program</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">python</span> <span class="pre">hello.py</span></code></li>
<li>If you see  <code class="docutils literal"><span class="pre">*</span> <span class="pre">Running</span> <span class="pre">on</span> <span class="pre">http://localhost:5000/</span></code>,
you successfully run your Flask on the localhost with 5000 port number.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="make-a-public-web-service">
<h3>Make a Public Web Service<a class="headerlink" href="#make-a-public-web-service" title="Permalink to this headline">¶</a></h3>
<p>We will make a small change to provide Flask in public.
This way, anyone on the internet can see your <code class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></code> message.</p>
<ul>
<li><dl class="first docutils">
<dt>Switch to <code class="docutils literal"><span class="pre">root</span></code> account to use system port 80.</dt>
<dd><ul class="first simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">su</span> <span class="pre">-</span></code></li>
<li><em>80 or 443 port is reserved port range to system administrator i.e. ``root``</em></li>
<li>Now you are in <code class="docutils literal"><span class="pre">root</span></code> account. Try <code class="docutils literal"><span class="pre">pwd</span></code> command to confirm that you</li>
</ul>
<blockquote class="last">
<div><p>are in <code class="docutils literal"><span class="pre">/root</span></code></p>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Move to <code class="docutils literal"><span class="pre">azureuser</span></code> home directory and enable virtualenv</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">/home/azureuser</span></code></li>
<li><code class="docutils literal"><span class="pre">source</span> <span class="pre">/home/azureuser/FLASK/bin/activate</span></code></li>
<li>If you see <strong>(FLASK)</strong> label in front of your prompt, you are now in the
<code class="docutils literal"><span class="pre">FLASK</span></code> environment.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Change <code class="docutils literal"><span class="pre">app.run()</span></code> function to <code class="docutils literal"><span class="pre">app.run(host='0.0.0.0',</span> <span class="pre">port=80)</span></code></dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">0.0.0.0</span></code> is a way to specify <em>any IPv4-host at all</em>. You Flask will
provide web service through your internal/external network of your virtual
server.</li>
<li><code class="docutils literal"><span class="pre">port=80</span></code> is a way to tell Flask that you are using HTTP default port.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="check-hello-world-page-on-the-web">
<h3>Check <code class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></code> Page on the Web<a class="headerlink" href="#check-hello-world-page-on-the-web" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="first docutils">
<dt>Open a web browser and type the IP address or hostname of your VM instance.</dt>
<dd><ul class="first last">
<li>If you see <code class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></code> page, you have now working Flask Web Framework
on Azure.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="terminate-your-cloud-resources-important">
<h3>Terminate your Cloud Resources <em>IMPORTANT</em><a class="headerlink" href="#terminate-your-cloud-resources-important" title="Permalink to this headline">¶</a></h3>
<p>If you completed your jobs on Azure cloud, you need to shutdown all of your
cloud resources and return the lease.  There is <code class="docutils literal"><span class="pre">delete</span> <span class="pre">Cloud</span> <span class="pre">Service</span></code>
command or menu. If you do not terminate your resources, you will receive a
charge of using cloud services e.g. Virtual Machine, Cloud Service, or Storage.</p>
</div>
</div>
<div class="section" id="exercise1">
<h2>Exercise1<a class="headerlink" href="#exercise1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Try to start a virtual server with Windows Server 2008 R2 SP1. Use Remote
Desktop to log in.</li>
</ul>
</div>
<div class="section" id="exercise2">
<h2>Exercise2<a class="headerlink" href="#exercise2" title="Permalink to this headline">¶</a></h2>
<p><strong>Additional (Optional) Study Material</strong></p>
<ul class="simple">
<li>Start one of community VM images. It needs some preparation before starting
a virtual machine. Get some experience with using VM Depot which is an open
repository for Azure VM images.</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Gregor von Laszewski.<br/>
    </p>
  </div>
</footer>
  </body>
</html>